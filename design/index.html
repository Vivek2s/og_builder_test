<style type="text/css">
	body {
  background-color: #f7f7f7;
}

::selection {
  background: #ff4400; 
  color: #fff;
}

::-moz-selection {
  background: #ff4400; 
  color: #fff;
}

label {
  font-family: 'Open Sans', Sans;
  font-weight: 100;
  font-size: 36px;
  color: #a0a0a0;
}

.container {
  font-family: 'Open Sans', Sans;
  font-weight: 100;
  font-size: 18px;
  color: #484850;
  background: #f7f7f7;
  width: 50%;
  padding: 50px;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  margin: auto;
}

.caret {
  border-style: solid;
  border-width: 10px 10px 0px 10px;
  border-bottom-color: transparent;
  border-left-color: transparent;
  border-top-color: rgba(0,0,0,.8);
  border-right-color: transparent;
  width: 0px;
  height: 0px;
  display: block;
  position: absolute;
  top: 53px;
  left: 45%;
}

#highlight_menu {
  font-family: 'Open Sans', Sans;
  font-weight: 100;
  font-size: 18px;
  color: #fff;
  border-radius: 5px;
  background: rgba(0,0,0,.8);
  position: absolute;
  user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
}

.highlight_menu_animate {
  transition: top 75ms ease-out,left 75ms ease-out;
}

.side-by-side {
  width: 100%;
  padding:0;
  margin:10px;
  margin-top:14px;
}
.side-by-side li {
  display: inline;
  padding: 10px;
}
</style>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<div class="container">
	    <label>Highlight menu</label>
	    <p>
	      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dicta saepe error omnis, adipisci veritatis perspiciatis doloribus quidem maxime fugiat neque inventore, corrupti explicabo voluptatibus consequatur odio quam nesciunt impedit blanditiis.
	    </p>
	</div>
	<div id="highlight_menu" style="display:none;"> 
	  
	  <ul class="side-by-side">
	    <li><a href="#"><img src="http://megapickles.org/images/marker.png"></a></li>
	    <li><a href="#"><img src="http://megapickles.org/images/twtr.png"></a></li>
	    <li><a href="#"><img src="http://megapickles.org/images/comment.png"></a></li>
	  </ul>
	  
	  <div class="caret">
	  
	</div>
	<script type="text/javascript">
		$(function(){
	  	var menu = $('#highlight_menu');
	  	
	  	$(document.body).on('mouseup', function (evt) {
		  	var s = document.getSelection(),
		  		r = s.getRangeAt(0);
		  	if (r && s.toString()) {
			  	var p = r.getBoundingClientRect();
			  	if (p.left || p.top) {
				  	menu.css({
					  	left: (p.left + (p.width / 2)) - (menu.width() / 2),
					  	top: (p.top - menu.height() - 10),
					  	display: 'block',
					  	opacity: 0
					})
					.animate({
						opacity:1
					}, 300);
					
					setTimeout(function() {
						menu.addClass('highlight_menu_animate');
					}, 10);
					return;
				}
		  	}
		  	menu.animate({ opacity:0 }, function () {
			  	menu.hide().removeClass('highlight_menu_animate');
			});
	  	});
	});
</script>